<html xmlns="http://www.w3.org/1999/html">
<head>
	<!--	<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
	<meta name="viewport" content="width=800, initial-scale=1.0">
	<link rel="stylesheet" href="css/callingboard.css">
	<link rel="shortcut icon" type="image/jpg" href="favicon.ico"/>
	<title>CallingBoard</title>
	<meta charset="utf-8">
</head>
<body>

<header>
	<span id="title">Calling Board</span>

	<div id="header-username">
		<span class="logged-in-username"></span>
		<input type="button" id="header-logout-button" class="filtered"
			   onclick="logout()" value="Logout">
	</div>
</header>

<div class="tab">
	<button class="tablinks default" name="modeling" onclick="openTab(event, 'modeling')">Modeling</button>
	<button class="tablinks" name="report" onclick="openTab(event, 'report')">Print Report</button>
	<button class="tablinks" name="manage-models" onclick="openTab(event, 'manage-models')">Model Management</button>
	<button class="tablinks" name="manage-focus-members" onclick="openTab(event, 'manage-focus-members')">Focus
		Members
	</button>
	<button class="tablinks" name="import" onclick="openTab(event, 'import')">Import</button>
	<button class="tablinks" name="authentication" onclick="openTab(event, 'authentication')">Login</button>
	<input id="main-page-save" type="button" class="save-button" onclick="openTab(event, 'manage-models')"
		   value="Save Model">
</div>

<model-layout id="modeling" class="tabcontent">
	<member-list>
		<label class="heading" for="members">Members</label>
		<div class="flex-row">
			<input id="member-filter" size="20" onclick="this.select()"
				   onkeyup="filterMembers()" placeholder="Member filter">
			<span id="clear-filter" class="pointer" onclick="clearFilter()">&#9447;</span>
		</div>
		<div id="member-scroller">
			<ul id="members" ondragstart="drag(event)">
			</ul>
		</div>
		<div>
			<input type="button" onclick="displayMembers('members')" value="All Members">
			<input type="button" onclick="displayMembers('newly-available')" value="Newly Available">
			<input type="button" onclick="displayMembers('focus-members')" value="Focus">
			<input type="button" onclick="displayMembers('members-with-callings')"
				   value="With Calling">
			<input type="button" onclick="displayMembers('adults-without-calling')"
				   value="Without Calling">
			<!--				<input type="button" onclick="displayMembers('eligible-adults')" value="Eligible Adults">-->
			<!--				<input type="button" onclick="displayMembers('eligible-youth')" value="Eligible Youth">-->
		</div>
		<div>&nbsp;</div>
		<label class="heading" for="member-callings-scroller">Member Callings</label>
		<div id="member-callings-scroller">
			<ul id="member-callings" ondragstart="drag(event)">
			</ul>
		</div>
	</member-list>

	<call-release>
		<label class="heading" for="releases">Releases</label>
		<div class="release-sustain-scroller">
			<ul id="releases" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)">
			</ul>
		</div>

		<div>&nbsp;</div>
		<label class="heading" for="sustainings">Sustainings</label>
		<div class="release-sustain-scroller">
			<ul id="sustainings" ondragstart="drag(event)">
			</ul>
		</div>

		<div>&nbsp;</div>
		<div>
			<input type="button" onclick="undoLast()" value="Undo Last">
			<input type="button" onclick="redoLast()" value="Redo Last">
			<span id="trash" ondrop="drop(event)" ondragover="allowDrop(event)">&#128465;</span>
		</div>
	</call-release>

	<ward-tree>
		<div>
			<input type="button" onclick="expandCollapseTree('e')" value="Expand All">
			<input type="button" onclick="expandCollapseTree('c')" value="Collapse All">
		</div>
		<div>&nbsp;</div>
		<span><strong>Filter: </strong></span>
		<div>
			<input id="filter-none" name="tree-filter" type="radio" onclick="refreshFromModel()" value="none" checked>
			<label for="filter-none">None&nbsp;</label>
			<input id="all-vacancies" name="tree-filter" type="radio" onclick="refreshFromModel()"
				   value="all-vacancies">
			<label for="all-vacancies">All Vacant&nbsp;</label>
			<input id="new-vacancies" name="tree-filter" type="radio" onclick="refreshFromModel()"
				   value="new-vacancies">
			<label for="new-vacancies">New Vacant</label>
		</div>
		<div>&nbsp;</div>
		<div id="ward-scroller">
			<ul id="ward">
				<li><span class="caret">All Organizations</span>
					<ul id="ward-organizations" class="nested">
						<!-- organizations are inserted here -->
					</ul>
				</li>
			</ul>
		</div>
	</ward-tree>
</model-layout>

<div id="report" class="tabcontent">
	<report-cont>
		<input type="button" class="print-button" onclick="window.print()" value="Print">
		<div id="report-canvas"></div>
	</report-cont>
</div>

<div id="manage-models" class="tabcontent">
	<model-man>
		<model-man-left>
			<input id="model-name" type="text" onclick="this.select()"
				   placeholder="Model name to save"
				   value="">
			<br><br>
			<div id="model-name-scroller">
				<table id="model-names" onclick="selectModelFile(event)"></table>
			</div>
		</model-man-left>
		<model-man-right>
			<input type="button" onclick="saveModel()" class="save-button" value="Save Model">
			<br><br>
			<input type="button" onclick="listModels()" value="Refresh List">
			<br>
			<input type="button" onclick="loadModel()" value="Load Model">
			<br>
			<input type="button" onclick="deleteModel()" value="Delete Model">
		</model-man-right>
		<model-man-footer>
			<model-man-left>
				<span>Reset the model to imported data</span>
			</model-man-left>
			<model-man-right>
				<input type="button" onclick="resetModel()" value="Reset Model">
			</model-man-right>
		</model-man-footer>
	</model-man>
</div>

<div id="manage-focus-members" class="tabcontent">
	<focus-member>
		<div id="focus-member-scroller">
			<table>
				<thead>
				<tr>
					<td><strong>Member</strong></td>
					<td><strong>Focus</strong></td>
				</tr>
				</thead>
				<tbody id="focus-member-list">
				</tbody>
			</table>
		</div>
	</focus-member>
</div>

<div id="import" class="tabcontent">
	<import-data>
		<span class="heading">Instructions</span>
		<br><br>
		<div class="sub-heading">Members</div>
		<div class="instructions">1) Login to <a
				href="https://lcr.churchofjesuschrist.org/records/member-list?lang=eng" target="_blank">this
			page on the Church website.</a></div>
		<div class="instructions">2) Scroll all the way to the bottom of the page.</div>
		<div class="instructions">3) Select and copy the entire page.</div>
		<div class="instructions">&nbsp;&nbsp;&nbsp;&nbsp;(<strong>Windows</strong>: Ctl-A, Ctl-C;
			<strong>Mac:</strong> Cmd-A, Cmd-C)
		</div>
		<div class="instructions">4) Paste in the window and click the <strong>Members</strong> button.</div>
		<br>
		<div class="sub-heading">Callings</div>
		<div class="instructions">1) Login to <a
				href="https://lcr.churchofjesuschrist.org/orgs/callings-by-organization?lang=eng"
				target="_blank">this page on the Church website.</a></div>
		<div class="instructions">2) Click on <strong>All Organization</strong>.</div>
		<div class="instructions">3) Select and copy the entire page.</div>
		<div class="instructions">&nbsp;&nbsp;&nbsp;&nbsp;(<strong>Windows</strong>: Ctl-A, Ctl-C;
			<strong>Mac:</strong> Cmd-A, Cmd-C)
		</div>
		<div class="instructions">4) Paste in the window and click the <strong>Callings</strong> button.</div>
		<div>&nbsp;</div>
	</import-data>

	<import-data>
		<label class="heading" for="rawdata">Import Member and Calling Data</label>
		<br><br>
		<textarea id="rawdata"
				  placeholder="IMPORTANT: Any unsaved models will be lost when importing data."></textarea>
		<br><br>
		<input type="button" onclick="parseRawData('parse-raw-members')" value="Members">
		<input type="button" onclick="parseRawData('parse-raw-callings')" value="Callings">
	</import-data>
</div>

<div id="authentication" class="tabcontent">
	<login-panel id="login-panel">
		<table>
			<tr>
				<td><label for="username">Username</label></td>
				<td><input type="text" id="username"></td>
			</tr>
			<tr></tr>
			<tr>
				<td><label for="wardid">Unit Number</label></td>
				<td><input type="text" id="wardid"></td>
			</tr>
		</table>
		<br>
		<input type="button" onclick="login()" value="Login">
	</login-panel>
	<login-panel id="logout-panel" class="filtered">
		<span class="logged-in-username"></span>
		<br><br>
		<input type="button" onclick="logout()" value="Logout">
	</login-panel>
</div>

<script src="js/callingboard.js"></script>
<script src="js/member.js"></script>
<script src="js/model.js"></script>
<script src="js/notifications.js"></script>
<script src="js/parser.js"></script>
<script src="js/report.js"></script>
<script src="js/tree.js"></script>
<script src="js/lib/x-notify.min.js"></script>
</body>
</html>
